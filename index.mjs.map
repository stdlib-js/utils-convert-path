{"version":3,"file":"index.mjs","sources":["../lib/convert_path.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isString = require( '@stdlib/assert-is-string' ).isPrimitive;\nvar reExtendedLengthPath = require( '@stdlib/regexp-extended-length-path' );\nvar lowercase = require( '@stdlib/string-lowercase' );\nvar replace = require( '@stdlib/string-replace' );\nvar format = require( '@stdlib/string-format' );\n\n\n// VARIABLES //\n\nvar RE_WIN_DEVICE_ROOT = /^([A-Za-z]):[\\\\\\/]+/; // eslint-disable-line no-useless-escape\nvar RE_POSIX_DEVICE_ROOT =/^\\/([A-Za-z])\\//;\n\n\n// MAIN //\n\n/**\n* Converts between POSIX and Windows paths.\n*\n* @param {string} from - path to convert\n* @param {string} to - output path convention\n* @throws {TypeError} first argument must be a string\n* @throws {TypeError} second argument must be a string\n* @throws {RangeError} second argument must be a recognized output path convention\n* @throws {Error} cannot convert a Windows extended-length path to a non-Windows path convention\n* @returns {string} converted path\n*\n* @example\n* var p = convertPath( '/c/foo/bar/beep.c', 'win32' );\n* // returns 'c:\\foo\\bar\\beep.c'\n*\n* @example\n* var p = convertPath( '/c/foo/bar/beep.c', 'mixed' );\n* // returns 'c:/foo/bar/beep.c'\n*\n* @example\n* var p = convertPath( 'C:\\\\foo\\\\bar\\\\beep.c', 'posix' );\n* // returns '/c/foo/bar/beep.c'\n*\n* @example\n* var p = convertPath( 'C:\\\\foo\\\\bar\\\\beep.c', 'mixed' );\n* // returns 'C:/foo/bar/beep.c'\n*/\nfunction convertPath( from, to ) {\n\tvar device;\n\tvar parts;\n\tvar out;\n\tif ( !isString( from ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a string. Value: `%s`.', from ) );\n\t}\n\tif ( !isString( to ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must be a string. Value: `%s`.', to ) );\n\t}\n\tif (\n\t\tto !== 'win32' &&\n\t\tto !== 'mixed' &&\n\t\tto !== 'posix'\n\t) {\n\t\tthrow new Error( format( 'invalid argument. Second argument must be a recognized output path convention. Value: `%s`.', to ) );\n\t}\n\tout = from;\n\n\t// Convert to a Windows path convention by transforming a POSIX device root (if present) and using a Windows path separator...\n\tif ( to === 'win32' ) {\n\t\tparts = RE_POSIX_DEVICE_ROOT.exec( out );\n\t\tif ( parts ) {\n\t\t\tdevice = parts[ 1 ]+':\\\\';\n\t\t\tout = replace( out, RE_POSIX_DEVICE_ROOT, device );\n\t\t}\n\t\treturn replace( out, '/', '\\\\' );\n\t}\n\t// Check for Windows extended-length paths...\n\tif ( reExtendedLengthPath.REGEXP.test( from ) ) {\n\t\tthrow new Error( format( 'invalid argument. Cannot convert Windows extended-length paths to POSIX paths. Value: `%s`.', from ) );\n\t}\n\t// Convert to a mixed path convention by combining a Windows drive letter convention with a POSIX path separator...\n\tif ( to === 'mixed' ) {\n\t\tparts = RE_POSIX_DEVICE_ROOT.exec( out );\n\t\tif ( parts ) {\n\t\t\tdevice = parts[ 1 ]+':/';\n\t\t\tout = replace( out, RE_POSIX_DEVICE_ROOT, device );\n\t\t} else {\n\t\t\tparts = RE_WIN_DEVICE_ROOT.exec( out );\n\t\t\tif ( parts ) {\n\t\t\t\tdevice = parts[ 1 ]+':/';\n\t\t\t\tout = replace( out, RE_WIN_DEVICE_ROOT, device );\n\t\t\t}\n\t\t}\n\t\treturn replace( out, '\\\\', '/' );\n\t}\n\t// Convert to a POSIX path convention by transforming a Windows device root (if present) and using a POSIX path separator...\n\tparts = RE_WIN_DEVICE_ROOT.exec( out );\n\tif ( parts ) {\n\t\tdevice = '/'+lowercase( parts[ 1 ] )+'/';\n\t\tout = replace( out, RE_WIN_DEVICE_ROOT, device );\n\t}\n\treturn replace( out, '\\\\', '/' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = convertPath;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Convert between POSIX and Windows paths.\n*\n* @module @stdlib/utils-convert-path\n*\n* @example\n* var convertPath = require( '@stdlib/utils-convert-path' );\n*\n* var p = convertPath( '/c/foo/bar/beep.c', 'win32' );\n* // returns 'c:\\foo\\bar\\beep.c'\n*\n* p = convertPath( '/c/foo/bar/beep.c', 'mixed' );\n* // returns 'c:/foo/bar/beep.c'\n*\n* p = convertPath( 'C:\\\\foo\\\\bar\\\\beep.c', 'posix' );\n* // returns '/c/foo/bar/beep.c'\n*\n* p = convertPath( 'C:\\\\foo\\\\bar\\\\beep.c', 'mixed' );\n* // returns 'C:/foo/bar/beep.c'\n*/\n\n// MODULES //\n\nvar convertPath = require( './convert_path.js' );\n\n\n// EXPORTS //\n\nmodule.exports = convertPath;\n"],"names":["isString","require$$0","isPrimitive","reExtendedLengthPath","require$$1","lowercase","require$$2","replace","require$$3","format","require$$4","RE_WIN_DEVICE_ROOT","RE_POSIX_DEVICE_ROOT","lib","from","to","device","parts","out","TypeError","Error","exec","REGEXP","test"],"mappings":";;0aAsBA,IAAIA,EAAWC,EAAsCC,YACjDC,EAAuBC,EACvBC,EAAYC,EACZC,EAAUC,EACVC,EAASC,EAKTC,EAAqB,sBACrBC,EAAsB,kBA2F1B,IC3EAC,EDgBA,SAAsBC,EAAMC,GAC3B,IAAIC,EACAC,EACAC,EACJ,IAAMlB,EAAUc,GACf,MAAM,IAAIK,UAAWV,EAAQ,kEAAmEK,IAEjG,IAAMd,EAAUe,GACf,MAAM,IAAII,UAAWV,EAAQ,mEAAoEM,IAElG,GACQ,UAAPA,GACO,UAAPA,GACO,UAAPA,EAEA,MAAM,IAAIK,MAAOX,EAAQ,8FAA+FM,IAKzH,GAHAG,EAAMJ,EAGM,UAAPC,EAMJ,OALAE,EAAQL,EAAqBS,KAAMH,MAElCF,EAASC,EAAO,GAAI,MACpBC,EAAMX,EAASW,EAAKN,EAAsBI,IAEpCT,EAASW,EAAK,IAAK,MAG3B,GAAKf,EAAqBmB,OAAOC,KAAMT,GACtC,MAAM,IAAIM,MAAOX,EAAQ,8FAA+FK,IAGzH,MAAY,UAAPC,IACJE,EAAQL,EAAqBS,KAAMH,KAElCF,EAASC,EAAO,GAAI,KACpBC,EAAMX,EAASW,EAAKN,EAAsBI,KAE1CC,EAAQN,EAAmBU,KAAMH,MAEhCF,EAASC,EAAO,GAAI,KACpBC,EAAMX,EAASW,EAAKP,EAAoBK,IAGnCT,EAASW,EAAK,KAAM,QAG5BD,EAAQN,EAAmBU,KAAMH,MAEhCF,EAAS,IAAIX,EAAWY,EAAO,IAAM,IACrCC,EAAMX,EAASW,EAAKP,EAAoBK,IAElCT,EAASW,EAAK,KAAM"}