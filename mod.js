// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var e,t=Object.defineProperty,n=Object.prototype,o=n.toString,i=n.__defineGetter__,u=n.__defineSetter__,a=n.__lookupGetter__,c=n.__lookupSetter__;e=function(){try{return r({},"x",{}),!0}catch(r){return!1}}()?t:function(r,e,t){var f,l,p,s;if("object"!=typeof r||null===r||"[object Array]"===o.call(r))throw new TypeError("invalid argument. First argument must be an object. Value: `"+r+"`.");if("object"!=typeof t||null===t||"[object Array]"===o.call(t))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+t+"`.");if((l="value"in t)&&(a.call(r,e)||c.call(r,e)?(f=r.__proto__,r.__proto__=n,delete r[e],r[e]=t.value,r.__proto__=f):r[e]=t.value),p="get"in t,s="set"in t,l&&(p||s))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return p&&i&&i.call(r,e,t.get),s&&u&&u.call(r,e,t.set),r};var f=e;function l(r,e,t){f(r,e,{configurable:!1,enumerable:!1,writable:!1,value:t})}function p(r){return"string"==typeof r}var s="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function y(){return s&&"symbol"==typeof Symbol.toStringTag}var v=Object.prototype.toString;var b=Object.prototype.hasOwnProperty;var g="function"==typeof Symbol?Symbol.toStringTag:"";var d=y()?function(r){var e,t,n,o,i;if(null==r)return v.call(r);t=r[g],i=g,e=null!=(o=r)&&b.call(o,i);try{r[g]=void 0}catch(e){return v.call(r)}return n=v.call(r),e?r[g]=t:delete r[g],n}:function(r){return v.call(r)},w=String.prototype.valueOf;var m=y();function h(r){return"object"==typeof r&&(r instanceof String||(m?function(r){try{return w.call(r),!0}catch(r){return!1}}(r):"[object String]"===d(r)))}function j(r){return p(r)||h(r)}function _(){return/^\\\\\?\\.+/}l(j,"isPrimitive",p),l(j,"isObject",h),l(_,"REGEXP",/^\\\\\?\\.+/);var E=/[-\/\\^$*+?.()|[\]{}]/g;var x=/./;function S(r){return"boolean"==typeof r}var T=Boolean.prototype.toString;var O=y();function A(r){return"object"==typeof r&&(r instanceof Boolean||(O?function(r){try{return T.call(r),!0}catch(r){return!1}}(r):"[object Boolean]"===d(r)))}function P(r){return S(r)||A(r)}function B(){return new Function("return this;")()}l(P,"isPrimitive",S),l(P,"isObject",A);var R="object"==typeof self?self:null,V="object"==typeof window?window:null,z="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},C="object"==typeof z?z:null;var G=function(r){if(arguments.length){if(!S(r))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+r+"`.");if(r)return B()}if(R)return R;if(V)return V;if(C)return C;throw new Error("unexpected error. Unable to resolve global object.")}(),L=G.document&&G.document.childNodes,M=Int8Array;function k(){return/^\s*function\s*([^(]*)/i}var F=/^\s*function\s*([^(]*)/i;l(k,"REGEXP",F);var X=Array.isArray?Array.isArray:function(r){return"[object Array]"===d(r)};function $(r){return null!==r&&"object"==typeof r}function I(r){var e,t,n,o;if(("Object"===(t=d(r).slice(8,-1))||"Error"===t)&&r.constructor){if("string"==typeof(n=r.constructor).name)return n.name;if(e=F.exec(n.toString()))return e[1]}return $(o=r)&&(o._isBuffer||o.constructor&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o))?"Buffer":t}l($,"isObjectLikeArray",function(r){if("function"!=typeof r)throw new TypeError("invalid argument. Must provide a function. Value: `"+r+"`.");return function(e){var t,n;if(!X(e))return!1;if(0===(t=e.length))return!1;for(n=0;n<t;n++)if(!1===r(e[n]))return!1;return!0}}($));var U="function"==typeof x||"object"==typeof M||"function"==typeof L?function(r){return I(r).toLowerCase()}:function(r){var e;return null===r?"null":"object"===(e=typeof r)?I(r).toLowerCase():e};var Z=RegExp.prototype.exec;var N=y();function q(r){return"object"==typeof r&&(r instanceof RegExp||(N?function(r){try{return Z.call(r),!0}catch(r){return!1}}(r):"[object RegExp]"===d(r)))}function D(r,e,t){if(!p(r))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+r+"`.");if(p(e))e=function(r){var e,t;if(!p(r))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+r+"`.");if("/"===r[0])for(t=r.length-1;t>=0&&"/"!==r[t];t--);return void 0===t||t<=0?r.replace(E,"\\$&"):(e=(e=r.substring(1,t)).replace(E,"\\$&"),r=r[0]+e+r.substring(t))}(e),e=new RegExp(e,"g");else if(!q(e))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+e+"`.");if(!p(t)&&"function"!==U(t))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+t+"`.");return r.replace(e,t)}function H(){var r,e=arguments,t=e[0],n="https://stdlib.io/e/"+t+"?";for(r=1;r<e.length;r++)n+="&arg[]="+encodeURIComponent(e[r]);return n}var J=/^([A-Za-z]):[\\\/]+/,K=/^\/([A-Za-z])\//;function Q(r,e){var t,n,o;if(!p(r))throw new TypeError(H("0iz3R",r));if(!p(e))throw new TypeError(H("0iz3L",e));if("win32"!==e&&"mixed"!==e&&"posix"!==e)throw new Error(H("0izBf",e));if(o=r,"win32"===e)return(n=K.exec(o))&&(t=n[1]+":\\",o=D(o,K,t)),D(o,"/","\\");if(_.REGEXP.test(r))throw new Error(H("0izBg",r));return"mixed"===e?((n=K.exec(o))?(t=n[1]+":/",o=D(o,K,t)):(n=J.exec(o))&&(t=n[1]+":/",o=D(o,J,t)),D(o,"\\","/")):((n=J.exec(o))&&(t="/"+function(r){if(!p(r))throw new TypeError("invalid argument. Must provide a primitive string. Value: `"+r+"`.");return r.toLowerCase()}(n[1])+"/",o=D(o,J,t)),D(o,"\\","/"))}export{Q as default};
//# sourceMappingURL=mod.js.map
